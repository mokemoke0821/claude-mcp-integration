# Enhanced Filesystem Security - MCP Server

ğŸ” **å¼·åŒ–ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ„ãƒ¼ãƒ«** - Phase 1

æ—¢å­˜ã®MCPãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ„ãƒ¼ãƒ«ã¨é‡è¤‡ã—ãªã„ã€12ã®æ–°æ©Ÿèƒ½ã‚’æ®µéšçš„ã«å®Ÿè£…ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚Phase 1ã§ã¯æœ€é‡è¦ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ï¼ˆæš—å·åŒ–ãƒ»æ•´åˆæ€§æ¤œè¨¼ï¼‰ã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ¯ Phase 1 å®Ÿè£…æ©Ÿèƒ½

### ğŸ” ãƒ•ã‚¡ã‚¤ãƒ«æš—å·åŒ–ãƒ»å¾©å·åŒ–
- AESæš—å·åŒ–ï¼ˆ256/192/128bitã€GCM/CBCãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼‰
- å¼·åŠ›ãªã‚­ãƒ¼å°å‡ºï¼ˆscrypt/PBKDF2ï¼‰
- å˜ä¸€ãƒ»è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€æ‹¬å‡¦ç†
- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿æŒã«ã‚ˆã‚‹å®‰å…¨ãªå¾©å·åŒ–

### ğŸ›¡ï¸ ãƒ•ã‚¡ã‚¤ãƒ«æ•´åˆæ€§æ¤œè¨¼
- ãƒã‚§ãƒƒã‚¯ã‚µãƒ ç”Ÿæˆï¼ˆMD5/SHA1/SHA256/SHA512ï¼‰
- ãƒ•ã‚¡ã‚¤ãƒ«æ•´åˆæ€§æ¤œè¨¼
- ãƒã‚§ãƒƒã‚¯ã‚µãƒ ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿
- ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¸€æ‹¬æ¤œè¨¼

## ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
cd enhanced-filesystem
npm install
npm run build
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. MCPã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦èµ·å‹•

```bash
npm start
# ã¾ãŸã¯
node build/index.js
```

### 2. Claude Desktopè¨­å®š

`claude_desktop_config.json`ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

```json
{
  "mcpServers": {
    "enhanced-filesystem-security": {
      "command": "node",
      "args": ["/path/to/enhanced-filesystem/build/index.js"]
    }
  }
}
```

## ğŸ”§ åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«

### æš—å·åŒ–ãƒ„ãƒ¼ãƒ«

#### `encrypt_file`
ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æš—å·åŒ–ã—ã¾ã™ã€‚

```typescript
encrypt_file({
  filePath: "secret.txt",
  password: "å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
  algorithm: "aes-256-gcm",  // ã‚ªãƒ—ã‚·ãƒ§ãƒ³
  keyDerivation: "scrypt"    // ã‚ªãƒ—ã‚·ãƒ§ãƒ³
})
```

#### `decrypt_file`
æš—å·åŒ–ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¾©å·åŒ–ã—ã¾ã™ã€‚

```typescript
decrypt_file({
  encryptedFilePath: "secret.encrypted",
  password: "å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
  outputPath: "restored.txt"  // ã‚ªãƒ—ã‚·ãƒ§ãƒ³
})
```

#### `encrypt_multiple_files`
è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€æ‹¬æš—å·åŒ–ã—ã¾ã™ã€‚

```typescript
encrypt_multiple_files({
  filePaths: ["file1.txt", "file2.pdf", "file3.jpg"],
  password: "å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
  algorithm: "aes-256-gcm"
})
```

#### `decrypt_multiple_files`
è¤‡æ•°ã®æš—å·åŒ–ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€æ‹¬å¾©å·åŒ–ã—ã¾ã™ã€‚

```typescript
decrypt_multiple_files({
  encryptedFilePaths: ["file1.encrypted", "file2.encrypted"],
  password: "å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰"
})
```

### æ•´åˆæ€§æ¤œè¨¼ãƒ„ãƒ¼ãƒ«

#### `generate_file_checksum`
ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒã‚§ãƒƒã‚¯ã‚µãƒ ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

```typescript
generate_file_checksum({
  filePath: "important.pdf",
  algorithm: "sha256"  // md5, sha1, sha256, sha512
})
```

#### `verify_file_integrity`
ãƒ•ã‚¡ã‚¤ãƒ«ã®æ•´åˆæ€§ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚

```typescript
verify_file_integrity({
  filePath: "important.pdf",
  expectedChecksum: "a1b2c3d4e5f6...",
  algorithm: "sha256"
})
```

#### `generate_multiple_checksums`
è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒã‚§ãƒƒã‚¯ã‚µãƒ ã‚’ä¸€æ‹¬ç”Ÿæˆã—ã¾ã™ã€‚

```typescript
generate_multiple_checksums({
  filePaths: ["file1.txt", "file2.pdf"],
  algorithm: "sha256"
})
```

#### `save_checksum_file`
ãƒã‚§ãƒƒã‚¯ã‚µãƒ çµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã¾ã™ã€‚

```typescript
save_checksum_file({
  filePaths: ["file1.txt", "file2.pdf"],
  outputPath: "checksums.txt",  // ã‚ªãƒ—ã‚·ãƒ§ãƒ³
  algorithm: "sha256"
})
```

#### `verify_directory_integrity`
ãƒã‚§ãƒƒã‚¯ã‚µãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã«åŸºã¥ã„ã¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æ¤œè¨¼ã—ã¾ã™ã€‚

```typescript
verify_directory_integrity({
  directoryPath: "/path/to/directory",
  checksumFilePath: "checksums.txt"
})
```

## ğŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
enhanced-filesystem/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ security/          # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ encryption.ts  # æš—å·åŒ–ãƒ»å¾©å·åŒ–
â”‚   â”‚   â””â”€â”€ integrity.ts   # æ•´åˆæ€§æ¤œè¨¼
â”‚   â”œâ”€â”€ types/             # å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ utils/             # å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ logger.ts      # ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â””â”€â”€ file-helper.ts # ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚   â””â”€â”€ index.ts           # MCPã‚µãƒ¼ãƒãƒ¼ãƒ¡ã‚¤ãƒ³
â”œâ”€â”€ build/                 # ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ tests/                 # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½è©³ç´°

### æš—å·åŒ–ä»•æ§˜
- **ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ **: AES-256-GCMï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã€AES-256-CBCã€AES-192-GCMã€AES-128-GCM
- **ã‚­ãƒ¼å°å‡º**: scryptï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã€PBKDF2
- **èªè¨¼**: GCMãƒ¢ãƒ¼ãƒ‰ã§AEADï¼ˆAuthenticated Encryption with Associated Dataï¼‰
- **ã‚½ãƒ«ãƒˆ**: 32ãƒã‚¤ãƒˆãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ
- **IV**: 16ãƒã‚¤ãƒˆãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ

### ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼
æš—å·åŒ–ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®å½¢å¼ã§ä¿å­˜ã•ã‚Œã¾ã™ï¼š

```
{
  "algorithm": "aes-256-gcm",
  "keyDerivation": "scrypt",
  "iterations": 100000,
  "saltLength": 32,
  "ivHex": "...",
  "saltHex": "...",
  "tagHex": "...",
  "originalFileName": "secret.txt",
  "originalSize": 1024,
  "encryptedAt": "2024-01-01T00:00:00.000Z"
}
---ENCRYPTED-DATA---
[æš—å·åŒ–ã•ã‚ŒãŸãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿]
```

### ãƒã‚§ãƒƒã‚¯ã‚µãƒ ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼
```
# Enhanced Filesystem Security - Checksum File
# Generated: 2024-01-01T00:00:00.000Z
# Algorithm: sha256
# Total Files: 2
#
# Format: <checksum> <algorithm> <size> <filename>

a1b2c3d4... sha256 1024 file1.txt
e5f6g7h8... sha256 2048 file2.pdf
```

## ğŸš§ ä»Šå¾Œã®å®Ÿè£…äºˆå®šï¼ˆPhase 2-3ï¼‰

### Phase 2: å®Ÿç”¨æ©Ÿèƒ½
- **ãƒ•ã‚¡ã‚¤ãƒ«åœ§ç¸®ãƒ»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–** (zip/tar/7zå¯¾å¿œ)
- **é‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«æ¤œå‡ºãƒ»ç®¡ç†** (ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹æ¤œå‡º)
- **ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ãƒ»å¤‰æ›´æ¤œçŸ¥** (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–)
- **ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸãƒ»ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—** (åŒæ–¹å‘åŒæœŸ)

### Phase 3: é«˜åº¦æ©Ÿèƒ½
- **ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†** (ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆæ©Ÿèƒ½)
- **ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆåˆ†é¡** (AIæ”¯æ´åˆ†é¡)
- **é«˜åº¦ãªãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢** (å†…å®¹ãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ¤œç´¢)
- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ç®¡ç†** (ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»)

## ğŸ“‹ é–‹ç™ºæƒ…å ±

- **è¨€èª**: TypeScript
- **å®Ÿè¡Œç’°å¢ƒ**: Node.js 18+
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Model Context Protocol (MCP)
- **æš—å·åŒ–**: Node.js crypto ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- **ãƒ­ã‚°**: ã‚«ã‚¹ã‚¿ãƒ ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯ [LICENSE](LICENSE) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

**Q: æš—å·åŒ–ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¾©å·åŒ–ã§ãã¾ã›ã‚“**
A: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ã„ã‹ã€æš—å·åŒ–ãƒ•ã‚¡ã‚¤ãƒ«ãŒç ´æã—ã¦ã„ãªã„ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚

**Q: ãƒã‚§ãƒƒã‚¯ã‚µãƒ æ¤œè¨¼ãŒå¤±æ•—ã—ã¾ã™**
A: ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤‰æ›´ã•ã‚Œã¦ã„ã‚‹ã‹ã€ãƒã‚§ãƒƒã‚¯ã‚µãƒ å€¤ãŒé–“é•ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

**Q: MCPã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¾ã›ã‚“**
A: Node.js 18ä»¥ä¸ŠãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ã€ä¾å­˜é–¢ä¿‚ãŒæ­£ã—ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚

### ãƒ­ã‚°ç¢ºèª
è©³ç´°ãªãƒ­ã‚°ã¯æ¨™æº–ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã«å‡ºåŠ›ã•ã‚Œã¾ã™ï¼š

```bash
node build/index.js 2> server.log
```

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡Œã‚„è³ªå•ãŒã‚ã‚‹å ´åˆã¯ã€GitHubã®Issueã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚ 